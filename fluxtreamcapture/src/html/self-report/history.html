<ion-view title="History">

  <ion-nav-bar class="nav-title-slide-ios7 bar-positive">

    <a ui-sref="listTopics" class="button button-clear pull-left"><i class="ion-chevron-left"></i> Back</a>

    <ion-nav-buttons side="right">
      <button menu-toggle="right" class="button button-icon icon ion-navicon"></button>
    </ion-nav-buttons>

  </ion-nav-bar>

  <ion-content class="padding">
    <div class="list">
      <div data-ng-repeat="tDate in aoUniqueDates | orderByDate:true">
        <div class="item item-divider">
          {{ tDate | date:"EEEE, MMMM d " }}
        </div>

        <a ui-sref="editObservation({observationId: oObservation.id})" data-ng-repeat="oObservation in aoObservations | filter:tDate | orderByTimestamp:'observationTime':true" class="item">
          <i style="font-size:8pt;">{{oObservation.observationTime | date : 'h:mm a'}}</i>
          {{getNameById(oObservation.topicId)}}
          <span class="item-note">
            {{oObservation.value}}
          </span>
        </a>
      </div>
    </div>
  </ion-content>

</ion-view>

<!-- Footer -->
<ion-footer-bar class="bar-positive">
  <h1 class='title' id='history-footer-center' style='line-height: 100%; padding-top: 6px;'>
    <i class="icon ion-checkmark self-report-footer-icon" ng-if="status =='done'"></i>
    <i class="icon ion-looping self-report-footer-icon" ng-if="status =='loading'"></i>
    <a ng-click='reconnectCouchDB()'>
      <i class="icon ion-alert-circled self-report-footer-icon" ng-if="status =='alert'" ></i>
      <img src='./img/icons/offline.png' height='80%' ng-if="status == 'offline'"/>
    </a>
  </h1>
</ion-footer-bar>
