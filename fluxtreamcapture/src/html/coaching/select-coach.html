<ion-view title="Buddies">
  
  <ion-nav-bar class="nav-title-slide-ios7 bar-positive">
    <a ui-sref="listTopics" class="button button-clear pull-left"><i class="ion-chevron-left"></i> Back</a>
    <ion-nav-buttons side="right">
      <button menu-toggle="right" class="button button-icon icon ion-navicon"></button>
    </ion-nav-buttons>
  </ion-nav-bar>
  
  <ion-content class="has-footer">
    <div class="flx-reload-icon" ng-if="loading && !isOffline"></div>
    <div ng-if="loading && isOffline" class="padding">You are offline. Please connect to the Internet.</div>
    <div class="list padding" ng-if="!loading">
      <div ng-if="!coaches.length" class="empty-list padding">
        No buddy. Add one with the "Add Buddy" button at the bottom of the screen.
      </div>
      <div ng-repeat="coach in coaches" class="coach-card">
        <div class="coach-photo">
          <img src="{{ coach.photoURL || 'img/avatar-dummy.png' }}">
        </div>
        <div class="coach-selected" ng-if="coach.isOwnCoach">
          <span class="ion-checkmark-circled"></span>
        </div>
        <div class="coach-remove" ng-click="removeCoach(coach)">
          <span class="ion-close-round"></span>
        </div>
        <div class="coach-name">
          {{ coach.fullname }}
        </div>
        <div class="card-actions">
          <div class="action card-contact-coach padding" ng-click="loadCoachMessaging(coach)">Messages <i class="ion-compose" style="margin-top:1px;"></i></div>
          <div class="action card-contact-coach padding" ng-click="loadCoachConnectorSharing(coach)">Shared data <i class="ion-ios7-arrow-right" style="margin-top:1px;"></i></div>
        </div>
      </div>      
    </div>
  </ion-content>
  
  <!-- Footer -->
  <div class="bar bar-footer bar-positive">
    <a id="footer-rigcreate" ui-sref="findCoach" class="button button-clear pull-right">Add Buddy</a>
  </div>
  
</ion-view>
