<ion-view title="Find Buddies">
  
  <ion-nav-bar class="nav-title-slide-ios7 bar-dark">
    <a ui-sref="selectCoach" class="button button-clear pull-left"><i class="ion-chevron-left"></i> Back</a>
    <ion-nav-buttons side="right">
      <button menu-toggle="right" class="button button-icon icon ion-navicon"></button>
    </ion-nav-buttons>
  </ion-nav-bar>
  
  <ion-content class="has-footer">
    <div class="list padding find-coach-form">
      <label class="item item-input">
        <input autocapitalize="none" type="text" placeholder="Type in username to search" ng-model="input.searchString" ng-change="onSearchStringChange()">
      </label>
      <button class="button button-block button-positive" ng-click="searchCoach()" ng-disabled="!input.searchString || loading">
        Search
      </button>
    </div>
    <div class="flx-reload-icon" ng-if="loading"></div>
    <div ng-if="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>
    <div class="list padding find-coach-results" ng-if="coaches.length">
      <div ng-repeat="coach in coaches" class="coach-card">
        <div class="coach-photo">
          <img src="{{ coach.photoURL || 'img/avatar-dummy.png' }}">
        </div>
        <div class="coach-selected" ng-if="coach.isOwnCoach">
          <span class="ion-checkmark-circled"></span>
        </div>
        <div class="coach-name">
          {{ coach.fullname }}
        </div>
        <div class="coach-cat">{{ coach.coachCategory }}</div>
        <div class="coach-location">{{ coach.location }}</div> 
        <div class="coach-description">
         {{ coach.profilePresentation || "No description" }}
        </div>
        <div class="card-actions">
          <div class="action card-select-coach padding" ng-click="addCoach(coach)">Add buddy <i class="ion-ios7-arrow-right" style="margin-top:1px;"></i></div>
        </div>
      </div>      
    </div>
  </ion-content>
  
  <!-- Footer -->
  <div class="bar bar-footer bar-dark">
  </div>
  
</ion-view>
